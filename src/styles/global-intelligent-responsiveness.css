/* ðŸš€ GLOBAL INTELLIGENT RESPONSIVENESS OVERRIDE
 * This file ensures ALL components follow the intelligent responsiveness rules
 * Import this LAST to override any conflicting responsive styles
 */

/* ================================================= */
/* GLOBAL RULES ENFORCEMENT */
/* ================================================= */

/* Force overflow control to prevent scaling issues */
html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

/* ================================================= */
/* LANDSCAPE MODE: GLOBAL PROPORTIONAL SCALING */
/* ================================================= */

@media screen and (orientation: landscape), 
       screen and (aspect-ratio: 1/1) {
  
  /* GLOBAL SCALING VARIABLES */
  :root {
    --global-scale: clamp(0.6, 1vw, 1);
    --text-scale: clamp(0.8, 1.1vw, 1);
    --spacing-scale: clamp(0.7, 1.2vw, 1);
  }

  /* PREVENT ANY RESPONSIVE LAYOUT CHANGES GLOBALLY */
  .dashboard-grid,
  .modules-container,
  .platforms-container,
  .usage-grid,
  .stats,
  .profile-actions,
  .post-actions,
  .post-control-buttons,
  .nav-container,
  .header-container {
    /* Force original layout structures */
    display: var(--original-display, initial) !important;
    flex-direction: var(--original-flex-direction, initial) !important;
    grid-template-columns: var(--original-grid-columns, initial) !important;
    grid-template-areas: var(--original-grid-areas, initial) !important;
    align-items: var(--original-align-items, initial) !important;
    justify-content: var(--original-justify-content, initial) !important;
  }

  /* SCALE ALL MAJOR CONTAINERS PROPORTIONALLY */
  .main-dashboard-wrapper,
  .modules-container,
  .post-cooked-container,
  .usage-dashboard,
  .welcome-banner,
  .dashboard-wrapper,
  .homepage-content,
  .legal-content,
  .pricing-content {
    transform-origin: center top !important;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  /* RESPONSIVE SCALING BREAKPOINTS */
  @media (max-width: 1600px) {
    .main-dashboard-wrapper,
    .modules-container,
    .post-cooked-container,
    .usage-dashboard,
    .welcome-banner {
      transform: scale(0.95) !important;
      margin-bottom: calc(0.05 * -100px) !important;
    }
  }

  @media (max-width: 1400px) {
    .main-dashboard-wrapper,
    .modules-container,
    .post-cooked-container,
    .usage-dashboard,
    .welcome-banner {
      transform: scale(0.85) !important;
      margin-bottom: calc(0.15 * -100px) !important;
    }
  }

  @media (max-width: 1200px) {
    .main-dashboard-wrapper,
    .modules-container,
    .post-cooked-container,
    .usage-dashboard,
    .welcome-banner {
      transform: scale(0.75) !important;
      margin-bottom: calc(0.25 * -100px) !important;
    }
  }

  @media (max-width: 1000px) {
    .main-dashboard-wrapper,
    .modules-container,
    .post-cooked-container,
    .usage-dashboard,
    .welcome-banner {
      transform: scale(0.65) !important;
      margin-bottom: calc(0.35 * -100px) !important;
    }
  }

  @media (max-width: 800px) {
    .main-dashboard-wrapper,
    .modules-container,
    .post-cooked-container,
    .usage-dashboard,
    .welcome-banner {
      transform: scale(0.55) !important;
      margin-bottom: calc(0.45 * -100px) !important;
    }
  }

  @media (max-width: 600px) {
    .main-dashboard-wrapper,
    .modules-container,
    .post-cooked-container,
    .usage-dashboard,
    .welcome-banner {
      transform: scale(0.45) !important;
      margin-bottom: calc(0.55 * -100px) !important;
    }
  }

  @media (max-width: 480px) {
    .main-dashboard-wrapper,
    .modules-container,
    .post-cooked-container,
    .usage-dashboard,
    .welcome-banner {
      transform: scale(0.35) !important;
      margin-bottom: calc(0.65 * -100px) !important;
    }
  }

  @media (max-width: 360px) {
    .main-dashboard-wrapper,
    .modules-container,
    .post-cooked-container,
    .usage-dashboard,
    .welcome-banner {
      transform: scale(0.25) !important;
      margin-bottom: calc(0.75 * -100px) !important;
    }
  }

  /* ENSURE MODALS AND OVERLAYS SCALE TOO */
  .modal-overlay,
  .popup-overlay,
  .canvas-editor-overlay,
  .feedback-canvas,
  .schedule-modal {
    transform: scale(var(--global-scale)) !important;
    transform-origin: center center !important;
  }

  /* COMPENSATE MODAL CONTENT SCALING */
  .modal-content,
  .canvas-editor-container,
  .popup-content {
    transform: scale(calc(1 / var(--global-scale))) !important;
    transform-origin: center center !important;
  }
}

/* ================================================= */
/* PORTRAIT MODE: GLOBAL RESPONSIVE ACTIVATION */
/* ================================================= */

@media screen and (orientation: portrait) {
  
  /* RESET ALL SCALING FOR PORTRAIT */
  .main-dashboard-wrapper,
  .modules-container,
  .post-cooked-container,
  .usage-dashboard,
  .welcome-banner,
  .modal-overlay,
  .popup-overlay,
  .canvas-editor-overlay,
  .modal-content,
  .canvas-editor-container {
    transform: none !important;
    margin-bottom: 0 !important;
  }

  /* ACTIVATE GLOBAL RESPONSIVE LAYOUTS */
  .app-container {
    flex-direction: column !important;
  }

  .content-area {
    margin-left: 0 !important;
    width: 100% !important;
  }

  /* STACK ALL GRID LAYOUTS */
  .dashboard-grid,
  .platforms-container,
  .usage-grid {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }

  /* STACK ALL FLEX LAYOUTS */
  .stats,
  .profile-actions,
  .post-actions,
  .nav-container {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 0.5rem !important;
  }

  /* FULL-WIDTH CONTAINERS */
  .main-dashboard-wrapper,
  .modules-container,
  .post-cooked-container,
  .usage-dashboard {
    max-width: calc(100vw - 2rem) !important;
    margin: 1rem auto !important;
    padding: 1rem !important;
  }

  /* RESPONSIVE TEXT SIZING */
  h1, .h1 { font-size: clamp(1.5rem, 5vw, 2.5rem) !important; }
  h2, .h2 { font-size: clamp(1.3rem, 4vw, 2rem) !important; }
  h3, .h3 { font-size: clamp(1.1rem, 3.5vw, 1.5rem) !important; }
  
  /* COMPACT BUTTONS */
  .tab,
  .dashboard-btn,
  .schedule-button,
  .edit-button,
  .reject-button {
    width: 100% !important;
    text-align: center !important;
    padding: 0.75rem 1rem !important;
  }

  /* MOBILE-OPTIMIZED MODALS */
  .modal-content,
  .feedback-canvas,
  .schedule-modal {
    width: calc(100vw - 2rem) !important;
    max-width: 400px !important;
    margin: 0 auto !important;
  }
}

/* ================================================= */
/* CRITICAL OVERRIDES FOR EXISTING BREAKPOINTS */
/* ================================================= */

/* LANDSCAPE: Override ALL existing responsive styles */
@media screen and (orientation: landscape) {
  
  /* Force override for common responsive breakpoints */
  @media (max-width: 1440px),
         (max-width: 1366px),
         (max-width: 1280px),
         (max-width: 1200px),
         (max-width: 1024px),
         (max-width: 768px),
         (max-width: 480px) {
    
    /* Prevent any layout changes */
    .dashboard-grid {
      grid-template-columns: repeat(3, 1fr) !important;
      grid-template-areas: 
        "profile notifications post-cooked"
        "strategies competitor-analysis chatbot" !important;
    }

    .platforms-container {
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)) !important;
    }

    .usage-grid {
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
    }

    .profile-bar,
    .stats,
    .profile-actions {
      flex-direction: row !important;
      align-items: center !important;
    }

    .main-dashboard-header {
      flex-direction: row !important;
      justify-content: space-between !important;
    }

    .tabs {
      flex-direction: row !important;
      flex-wrap: nowrap !important;
    }
  }
}

/* ================================================= */
/* FINE-TUNING FOR DIFFERENT ASPECT RATIOS */
/* ================================================= */

/* Ultrawide monitors */
@media screen and (min-aspect-ratio: 21/9) and (orientation: landscape) {
  :root {
    --global-scale: clamp(0.8, 1.4vw, 1);
  }
}

/* Standard widescreen */
@media screen and (aspect-ratio: 16/9) and (orientation: landscape) {
  :root {
    --global-scale: clamp(0.75, 1.2vw, 0.95);
  }
}

/* Square screens */
@media screen and (aspect-ratio: 1/1) {
  :root {
    --global-scale: clamp(0.7, 1.1vw, 0.9);
  }
}

/* Slightly portrait but still wide screens (some tablets) */
@media screen and (max-aspect-ratio: 4/3) and (min-aspect-ratio: 1/1) {
  :root {
    --global-scale: clamp(0.65, 1vw, 0.85);
  }
}

/* ================================================= */
/* PERFORMANCE OPTIMIZATIONS */
/* ================================================= */

/* GPU acceleration for smooth scaling */
@media screen and (orientation: landscape) {
  .main-dashboard-wrapper,
  .modules-container,
  .post-cooked-container,
  .usage-dashboard,
  .welcome-banner {
    will-change: transform !important;
    transform-style: preserve-3d !important;
    backface-visibility: hidden !important;
  }
}

/* Disable will-change for portrait to save resources */
@media screen and (orientation: portrait) {
  .main-dashboard-wrapper,
  .modules-container,
  .post-cooked-container,
  .usage-dashboard,
  .welcome-banner {
    will-change: auto !important;
    transform-style: flat !important;
  }
}

/* ================================================= */
/* ACCESSIBILITY IMPROVEMENTS */
/* ================================================= */

/* Ensure minimum touch targets on portrait */
@media screen and (orientation: portrait) {
  button,
  .btn,
  .tab,
  .dashboard-btn,
  input[type="button"],
  input[type="submit"] {
    min-height: 44px !important;
    min-width: 44px !important;
  }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .main-dashboard-wrapper,
  .modules-container,
  .post-cooked-container,
  .usage-dashboard,
  .welcome-banner {
    transition: none !important;
    animation: none !important;
  }
}
