<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Frontend Debug</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <h1>Facebook Frontend Debug</h1>
    <div id="status">Testing...</div>
    <div id="results"></div>

    <script>
        async function testFacebookAPI() {
            const statusDiv = document.getElementById('status');
            const resultsDiv = document.getElementById('results');
            
            try {
                statusDiv.textContent = 'Testing localhost:3000...';
                
                // Test 1: Localhost
                const localResponse = await axios.get('http://localhost:3000/events-list/681487244693083?platform=facebook');
                console.log('Localhost response:', localResponse.data);
                
                statusDiv.textContent = 'Testing live website...';
                
                // Test 2: Live website
                const liveResponse = await axios.get('https://sentientm.com/events-list/681487244693083?platform=facebook');
                console.log('Live website response:', liveResponse.data);
                
                // Test 3: Frontend-style call
                statusDiv.textContent = 'Testing frontend-style call...';
                const frontendResponse = await axios.get('/events-list/681487244693083?platform=facebook');
                console.log('Frontend-style response:', frontendResponse.data);
                
                resultsDiv.innerHTML = `
                    <h3>Results:</h3>
                    <p><strong>Localhost (${localResponse.data.length} notifications):</strong> ✅ Working</p>
                    <p><strong>Live website (${liveResponse.data.length} notifications):</strong> ✅ Working</p>
                    <p><strong>Frontend-style (${frontendResponse.data.length} notifications):</strong> ✅ Working</p>
                    <p><strong>All APIs are working correctly!</strong></p>
                `;
                
                statusDiv.textContent = '✅ All tests passed!';
                
            } catch (error) {
                console.error('Error:', error);
                statusDiv.textContent = '❌ Error occurred';
                resultsDiv.innerHTML = `
                    <h3>Error:</h3>
                    <pre>${error.message}</pre>
                    <p>Response: ${error.response?.data || 'No response data'}</p>
                `;
            }
        }
        
        // Run test when page loads
        testFacebookAPI();
    </script>
</body>
</html> 