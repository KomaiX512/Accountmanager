{
  "timestamp": "2025-09-09T00:07:54.242Z",
  "testSuites": [
    {
      "name": "Critical Path Tests",
      "tests": [
        {
          "name": "Negative cache core functionality",
          "success": true,
          "duration": 1.4792869985103607,
          "details": {
            "firstDuration": 8.473848015069962,
            "secondDuration": 1.4792869985103607,
            "isCacheHit": true,
            "fasterResponse": true,
            "bothSuccessful": true,
            "bothPixels": true,
            "firstHeaders": {
              "x-powered-by": "Express",
              "access-control-allow-origin": "*",
              "access-control-allow-credentials": "true",
              "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
              "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
              "access-control-allow-headers": "*",
              "access-control-max-age": "86400",
              "content-type": "image/png",
              "cache-control": "public, max-age=600",
              "x-proxy-fallback": "pixel",
              "x-proxy-cache": "NEG_HIT",
              "content-length": "68",
              "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
              "date": "Tue, 09 Sep 2025 00:07:54 GMT",
              "connection": "close"
            },
            "secondHeaders": {
              "x-powered-by": "Express",
              "access-control-allow-origin": "*",
              "access-control-allow-credentials": "true",
              "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
              "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
              "access-control-allow-headers": "*",
              "access-control-max-age": "86400",
              "content-type": "image/png",
              "cache-control": "public, max-age=600",
              "x-proxy-fallback": "pixel",
              "x-proxy-cache": "NEG_HIT",
              "content-length": "68",
              "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
              "date": "Tue, 09 Sep 2025 00:07:54 GMT",
              "connection": "close"
            }
          }
        },
        {
          "name": "Instagram CDN blocking behavior",
          "success": true,
          "duration": 987.0088700056076,
          "details": {
            "totalRequests": 3,
            "successfulRequests": 3,
            "pixelResponses": 3,
            "negativeCache": {
              "NEG_SET": 2,
              "NEG_HIT": 1
            },
            "results": [
              {
                "success": true,
                "status": 200,
                "statusText": "OK",
                "headers": {
                  "x-powered-by": "Express",
                  "access-control-allow-origin": "*",
                  "access-control-allow-credentials": "true",
                  "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
                  "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
                  "access-control-allow-headers": "*",
                  "access-control-max-age": "86400",
                  "content-type": "image/png",
                  "cache-control": "public, max-age=600",
                  "x-proxy-fallback": "pixel",
                  "x-proxy-cache": "NEG_HIT",
                  "content-length": "68",
                  "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
                  "date": "Tue, 09 Sep 2025 00:07:54 GMT",
                  "connection": "close"
                },
                "body": {
                  "type": "Buffer",
                  "data": [
                    137,
                    80,
                    78,
                    71,
                    13,
                    10,
                    26,
                    10,
                    0,
                    0,
                    0,
                    13,
                    73,
                    72,
                    68,
                    82,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    1,
                    8,
                    4,
                    0,
                    0,
                    0,
                    181,
                    28,
                    12,
                    2,
                    0,
                    0,
                    0,
                    11,
                    73,
                    68,
                    65,
                    84,
                    120,
                    218,
                    99,
                    252,
                    255,
                    31,
                    0,
                    3,
                    3,
                    2,
                    0,
                    237,
                    179,
                    91,
                    29,
                    0,
                    0,
                    0,
                    0,
                    73,
                    69,
                    78,
                    68,
                    174,
                    66,
                    96,
                    130
                  ]
                },
                "duration": 0.9012480080127716,
                "contentType": "image/png",
                "bodySize": 68
              },
              {
                "success": true,
                "status": 200,
                "statusText": "OK",
                "headers": {
                  "x-powered-by": "Express",
                  "access-control-allow-origin": "*",
                  "access-control-allow-credentials": "true",
                  "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
                  "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
                  "access-control-allow-headers": "*",
                  "access-control-max-age": "86400",
                  "content-type": "image/png",
                  "cache-control": "public, max-age=600",
                  "x-proxy-fallback": "pixel",
                  "x-proxy-cache": "NEG_SET",
                  "content-length": "68",
                  "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
                  "date": "Tue, 09 Sep 2025 00:07:54 GMT",
                  "connection": "close"
                },
                "body": {
                  "type": "Buffer",
                  "data": [
                    137,
                    80,
                    78,
                    71,
                    13,
                    10,
                    26,
                    10,
                    0,
                    0,
                    0,
                    13,
                    73,
                    72,
                    68,
                    82,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    1,
                    8,
                    4,
                    0,
                    0,
                    0,
                    181,
                    28,
                    12,
                    2,
                    0,
                    0,
                    0,
                    11,
                    73,
                    68,
                    65,
                    84,
                    120,
                    218,
                    99,
                    252,
                    255,
                    31,
                    0,
                    3,
                    3,
                    2,
                    0,
                    237,
                    179,
                    91,
                    29,
                    0,
                    0,
                    0,
                    0,
                    73,
                    69,
                    78,
                    68,
                    174,
                    66,
                    96,
                    130
                  ]
                },
                "duration": 568.7908979952335,
                "contentType": "image/png",
                "bodySize": 68
              },
              {
                "success": true,
                "status": 200,
                "statusText": "OK",
                "headers": {
                  "x-powered-by": "Express",
                  "access-control-allow-origin": "*",
                  "access-control-allow-credentials": "true",
                  "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
                  "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
                  "access-control-allow-headers": "*",
                  "access-control-max-age": "86400",
                  "content-type": "image/png",
                  "cache-control": "public, max-age=600",
                  "x-proxy-fallback": "pixel",
                  "x-proxy-cache": "NEG_SET",
                  "content-length": "68",
                  "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
                  "date": "Tue, 09 Sep 2025 00:07:55 GMT",
                  "connection": "close"
                },
                "body": {
                  "type": "Buffer",
                  "data": [
                    137,
                    80,
                    78,
                    71,
                    13,
                    10,
                    26,
                    10,
                    0,
                    0,
                    0,
                    13,
                    73,
                    72,
                    68,
                    82,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    1,
                    8,
                    4,
                    0,
                    0,
                    0,
                    181,
                    28,
                    12,
                    2,
                    0,
                    0,
                    0,
                    11,
                    73,
                    68,
                    65,
                    84,
                    120,
                    218,
                    99,
                    252,
                    255,
                    31,
                    0,
                    3,
                    3,
                    2,
                    0,
                    237,
                    179,
                    91,
                    29,
                    0,
                    0,
                    0,
                    0,
                    73,
                    69,
                    78,
                    68,
                    174,
                    66,
                    96,
                    130
                  ]
                },
                "duration": 417.3167240023613,
                "contentType": "image/png",
                "bodySize": 68
              }
            ]
          }
        },
        {
          "name": "Pixel fallback core functionality",
          "success": true,
          "duration": 9215.776015996933,
          "details": {
            "isPixel": true,
            "hasCorrectHeaders": true,
            "correctSize": true,
            "actualSize": 68,
            "headers": {
              "x-powered-by": "Express",
              "access-control-allow-origin": "*",
              "access-control-allow-credentials": "true",
              "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
              "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
              "access-control-allow-headers": "*",
              "access-control-max-age": "86400",
              "content-type": "image/png",
              "cache-control": "public, max-age=600",
              "x-proxy-fallback": "pixel",
              "content-length": "68",
              "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
              "date": "Tue, 09 Sep 2025 00:08:04 GMT",
              "connection": "close"
            }
          }
        },
        {
          "name": "Concurrent request deduplication (20 requests)",
          "success": true,
          "duration": 5.058910995721817,
          "details": {
            "concurrency": 20,
            "successfulRequests": 20,
            "cacheHits": 20,
            "cacheEffectiveness": 1,
            "avgResponseTime": 6.6017489522695545
          }
        }
      ],
      "startTime": 56.559646010398865,
      "endTime": 10281.742244005203,
      "success": true
    },
    {
      "name": "Load & Stress Tests",
      "tests": [
        {
          "name": "Sustained load (75 requests)",
          "success": true,
          "duration": 15128.470227003098,
          "details": {
            "totalRequests": 75,
            "successRate": 1,
            "avgResponseTime": 0.9598540798823039,
            "cacheHitRate": 1,
            "duration": 15128.470227003098
          }
        },
        {
          "name": "Concurrent Instagram requests",
          "success": true,
          "duration": 0.8750079870223999,
          "details": {
            "totalRequests": 3,
            "successfulRequests": 3,
            "pixelResponses": 3
          }
        },
        {
          "name": "Cache storm prevention",
          "success": false,
          "duration": 0,
          "details": {
            "firstWaveSuccessful": 10,
            "secondWaveSuccessful": 10,
            "secondWaveCacheHits": 0,
            "cacheStormPrevented": false,
            "expectedCacheHits": 10
          }
        }
      ],
      "startTime": 10281.774322986603,
      "endTime": 44010.1629639864,
      "success": false
    },
    {
      "name": "Edge Case Tests",
      "tests": [
        {
          "name": "Malformed URL handling",
          "success": true,
          "duration": 28047.876732975245,
          "details": {
            "results": [
              {
                "success": true,
                "status": 200,
                "statusText": "OK",
                "headers": {
                  "x-powered-by": "Express",
                  "access-control-allow-origin": "*",
                  "access-control-allow-credentials": "true",
                  "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
                  "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
                  "access-control-allow-headers": "*",
                  "access-control-max-age": "86400",
                  "content-type": "image/png",
                  "cache-control": "public, max-age=600",
                  "x-proxy-fallback": "pixel",
                  "content-length": "68",
                  "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
                  "date": "Tue, 09 Sep 2025 00:08:45 GMT",
                  "connection": "close"
                },
                "body": {
                  "type": "Buffer",
                  "data": [
                    137,
                    80,
                    78,
                    71,
                    13,
                    10,
                    26,
                    10,
                    0,
                    0,
                    0,
                    13,
                    73,
                    72,
                    68,
                    82,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    1,
                    8,
                    4,
                    0,
                    0,
                    0,
                    181,
                    28,
                    12,
                    2,
                    0,
                    0,
                    0,
                    11,
                    73,
                    68,
                    65,
                    84,
                    120,
                    218,
                    99,
                    252,
                    255,
                    31,
                    0,
                    3,
                    3,
                    2,
                    0,
                    237,
                    179,
                    91,
                    29,
                    0,
                    0,
                    0,
                    0,
                    73,
                    69,
                    78,
                    68,
                    174,
                    66,
                    96,
                    130
                  ]
                },
                "duration": 7014.624865978956,
                "contentType": "image/png",
                "bodySize": 68
              },
              {
                "success": true,
                "status": 200,
                "statusText": "OK",
                "headers": {
                  "x-powered-by": "Express",
                  "access-control-allow-origin": "*",
                  "access-control-allow-credentials": "true",
                  "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
                  "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
                  "access-control-allow-headers": "*",
                  "access-control-max-age": "86400",
                  "content-type": "image/png",
                  "cache-control": "public, max-age=600",
                  "x-proxy-fallback": "pixel",
                  "content-length": "68",
                  "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
                  "date": "Tue, 09 Sep 2025 00:08:52 GMT",
                  "connection": "close"
                },
                "body": {
                  "type": "Buffer",
                  "data": [
                    137,
                    80,
                    78,
                    71,
                    13,
                    10,
                    26,
                    10,
                    0,
                    0,
                    0,
                    13,
                    73,
                    72,
                    68,
                    82,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    1,
                    8,
                    4,
                    0,
                    0,
                    0,
                    181,
                    28,
                    12,
                    2,
                    0,
                    0,
                    0,
                    11,
                    73,
                    68,
                    65,
                    84,
                    120,
                    218,
                    99,
                    252,
                    255,
                    31,
                    0,
                    3,
                    3,
                    2,
                    0,
                    237,
                    179,
                    91,
                    29,
                    0,
                    0,
                    0,
                    0,
                    73,
                    69,
                    78,
                    68,
                    174,
                    66,
                    96,
                    130
                  ]
                },
                "duration": 7020.88434201479,
                "contentType": "image/png",
                "bodySize": 68
              },
              {
                "success": true,
                "status": 200,
                "statusText": "OK",
                "headers": {
                  "x-powered-by": "Express",
                  "access-control-allow-origin": "*",
                  "access-control-allow-credentials": "true",
                  "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
                  "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
                  "access-control-allow-headers": "*",
                  "access-control-max-age": "86400",
                  "content-type": "image/png",
                  "cache-control": "public, max-age=600",
                  "x-proxy-fallback": "pixel",
                  "content-length": "68",
                  "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
                  "date": "Tue, 09 Sep 2025 00:08:59 GMT",
                  "connection": "close"
                },
                "body": {
                  "type": "Buffer",
                  "data": [
                    137,
                    80,
                    78,
                    71,
                    13,
                    10,
                    26,
                    10,
                    0,
                    0,
                    0,
                    13,
                    73,
                    72,
                    68,
                    82,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    1,
                    8,
                    4,
                    0,
                    0,
                    0,
                    181,
                    28,
                    12,
                    2,
                    0,
                    0,
                    0,
                    11,
                    73,
                    68,
                    65,
                    84,
                    120,
                    218,
                    99,
                    252,
                    255,
                    31,
                    0,
                    3,
                    3,
                    2,
                    0,
                    237,
                    179,
                    91,
                    29,
                    0,
                    0,
                    0,
                    0,
                    73,
                    69,
                    78,
                    68,
                    174,
                    66,
                    96,
                    130
                  ]
                },
                "duration": 7007.077025979757,
                "contentType": "image/png",
                "bodySize": 68
              },
              {
                "success": true,
                "status": 200,
                "statusText": "OK",
                "headers": {
                  "x-powered-by": "Express",
                  "access-control-allow-origin": "*",
                  "access-control-allow-credentials": "true",
                  "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
                  "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
                  "access-control-allow-headers": "*",
                  "access-control-max-age": "86400",
                  "content-type": "image/png",
                  "cache-control": "public, max-age=600",
                  "x-proxy-fallback": "pixel",
                  "content-length": "68",
                  "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
                  "date": "Tue, 09 Sep 2025 00:09:06 GMT",
                  "connection": "close"
                },
                "body": {
                  "type": "Buffer",
                  "data": [
                    137,
                    80,
                    78,
                    71,
                    13,
                    10,
                    26,
                    10,
                    0,
                    0,
                    0,
                    13,
                    73,
                    72,
                    68,
                    82,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    1,
                    8,
                    4,
                    0,
                    0,
                    0,
                    181,
                    28,
                    12,
                    2,
                    0,
                    0,
                    0,
                    11,
                    73,
                    68,
                    65,
                    84,
                    120,
                    218,
                    99,
                    252,
                    255,
                    31,
                    0,
                    3,
                    3,
                    2,
                    0,
                    237,
                    179,
                    91,
                    29,
                    0,
                    0,
                    0,
                    0,
                    73,
                    69,
                    78,
                    68,
                    174,
                    66,
                    96,
                    130
                  ]
                },
                "duration": 7004.240129977465,
                "contentType": "image/png",
                "bodySize": 68
              },
              {
                "success": false,
                "status": 400,
                "statusText": "Bad Request",
                "headers": {
                  "x-powered-by": "Express",
                  "access-control-allow-origin": "*",
                  "access-control-allow-credentials": "true",
                  "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
                  "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
                  "access-control-allow-headers": "*",
                  "access-control-max-age": "86400",
                  "content-type": "text/html; charset=utf-8",
                  "content-length": "21",
                  "etag": "W/\"15-TJ9oToTyktoSxN9YevEefOk+S0I\"",
                  "date": "Tue, 09 Sep 2025 00:09:06 GMT",
                  "connection": "close"
                },
                "body": {
                  "type": "Buffer",
                  "data": [
                    73,
                    109,
                    97,
                    103,
                    101,
                    32,
                    85,
                    82,
                    76,
                    32,
                    105,
                    115,
                    32,
                    114,
                    101,
                    113,
                    117,
                    105,
                    114,
                    101,
                    100
                  ]
                },
                "duration": 1.0503690242767334,
                "contentType": "text/html; charset=utf-8",
                "bodySize": 21
              }
            ]
          }
        },
        {
          "name": "Timeout behavior",
          "success": true,
          "duration": 2010.7684669792652,
          "details": {
            "timedOut": true,
            "fastResponse": true,
            "error": "timeout of 2000ms exceeded",
            "duration": 2010.7684669792652
          }
        },
        {
          "name": "Header consistency",
          "success": true,
          "duration": 1.767844021320343,
          "details": {
            "hasRequiredHeaders": true,
            "correctCORS": true,
            "headers": {
              "x-powered-by": "Express",
              "access-control-allow-origin": "*",
              "access-control-allow-credentials": "true",
              "access-control-expose-headers": "Content-Type, X-Cache, X-Cache-TTL",
              "access-control-allow-methods": "GET, POST, PUT, DELETE, OPTIONS",
              "access-control-allow-headers": "*",
              "access-control-max-age": "86400",
              "content-type": "image/png",
              "cache-control": "public, max-age=600",
              "x-proxy-fallback": "pixel",
              "x-proxy-cache": "NEG_HIT",
              "content-length": "68",
              "etag": "W/\"44-GUJtX3lSSrGVD9oWcSr9glDTirU\"",
              "date": "Tue, 09 Sep 2025 00:09:08 GMT",
              "connection": "close"
            }
          }
        }
      ],
      "startTime": 44010.21553000808,
      "endTime": 74071.50514298677,
      "success": true
    }
  ],
  "metrics": {
    "totalRequests": 131,
    "successfulRequests": 129,
    "failedRequests": 2,
    "averageResponseTime": 5539.9081362962725,
    "cacheHitRate": 0.2,
    "instagramBlockRate": 0.6666666666666666,
    "negCacheEffectiveness": 1
  },
  "totalDuration": 74015.8616630137,
  "endTime": "2025-09-09T00:09:08.258Z"
}